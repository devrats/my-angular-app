<div class="container">
  <div class="form-box">
    <h2>{{ isLoginMode ? "Login" : "Sign Up" }}</h2>

    <form
      [formGroup]="isLoginMode ? loginForm : registerForm"
      (ngSubmit)="isLoginMode ? handleLogin() : handleRegister()"
    >
      <div class="form-group">
        <label>Email</label>
        <input type="email" formControlName="email" />
        <div
          class="error"
          *ngIf="
            (isLoginMode ? loginForm : registerForm).get('email')?.touched &&
            (isLoginMode ? loginForm : registerForm).get('email')?.invalid
          "
        >
          <small
            *ngIf="(isLoginMode ? loginForm : registerForm).get('email')?.errors?.['required']"
            >Email is required.</small
          >
          <small
            *ngIf="(isLoginMode ? loginForm : registerForm).get('email')?.errors?.['email']"
            >Enter a valid email.</small
          >
        </div>
      </div>

      <div class="form-group">
        <label>Password</label>
        <input type="password" formControlName="password" />
        <div
          class="error"
          *ngIf="
            (isLoginMode ? loginForm : registerForm).get('password')?.touched &&
            (isLoginMode ? loginForm : registerForm).get('password')?.invalid
          "
        >
          <small
            *ngIf="(isLoginMode ? loginForm : registerForm).get('password')?.errors?.['required']"
            >Password is required.</small
          >
          <small
            *ngIf="(isLoginMode ? loginForm : registerForm).get('password')?.errors?.['minlength']"
            >Password must be at least 8 characters.</small
          >
        </div>
      </div>

      <button
        type="submit"
        class="btn"
        [disabled]="(isLoginMode ? loginForm : registerForm).invalid"
      >
        {{ isLoginMode ? "Login" : "Sign Up" }}
      </button>
    </form>

    <p class="toggle">
      {{ isLoginMode ? "Don't have an account?" : "Already have an account?" }}
      <span (click)="toggleMode()">{{
        isLoginMode ? "Sign Up" : "Login"
      }}</span>
    </p>
  </div>
</div>
